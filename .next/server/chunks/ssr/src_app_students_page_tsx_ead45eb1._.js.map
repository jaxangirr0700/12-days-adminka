{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/12-days/adminka/src/app/students/page.tsx"],"sourcesContent":["\"use client\";\r\nimport AddStudent from \"@/app/students/edits/AddStudent\";\r\nimport DeleteStudents from \"@/app/students/edits/DeleteStudents\";\r\nimport EditStudents from \"@/app/students/edits/EditStudents\";\r\nimport useGlobalStore from \"@/store/my-store\";\r\nimport useAuthStore from \"@/store/MyAuthState\";\r\nimport { Button, Switch, Table } from \"antd\";\r\nimport axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\ntype UserType = {\r\n  name: string;\r\n  email: string;\r\n  password: string;\r\n  image: string;\r\n  role: string;\r\n};\r\n\r\nfunction SrudentsPage() {\r\n  const MyAuthState = useAuthStore();\r\n  const [user, setUsers] = useState<UserType[] | []>([]);\r\n  const [AddOpen, setAddOpen] = useState(false);\r\n  const [editOpen, setEditOpen] = useState(false);\r\n  const [EditStudent, setEditStudent] = useState({});\r\n  const [deleteStudent, setDeleteStudent] = useState({});\r\n  const { data: users, error } = useFetchData(`/app/users`);\r\n  if (error) {\r\n    return <div>Xatolik: {error}</div>;\r\n  }\r\n\r\n  const showDrawer = () => {\r\n    setAddOpen(true);\r\n  };\r\n  const showDrawerEdit = () => {\r\n    setEditOpen(true);\r\n  };\r\n\r\n  const onClose = () => {\r\n    setAddOpen(false);\r\n  };\r\n  const onCloseEdit = () => {\r\n    setEditOpen(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(`https://nt.softly.uz/api/app/users`, {\r\n        headers: { Authorization: `Bearer ${MyAuthState.token}` },\r\n      })\r\n      .then((res) => {\r\n        setUsers(res.data);\r\n      })\r\n      .catch((e) => {\r\n        console.log(e);\r\n      })\r\n      .finally(() => {\r\n        console.log(\"getFinish\");\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"flex flex-col items-center\">\r\n      <div className=\"flex gap-2 items-center justify-center  \">\r\n        <Button\r\n          onClick={() => {\r\n            console.log(`Userlarning umumiy soni ${user.length}`);\r\n          }}\r\n        >\r\n          Umumiy son: {user.length}\r\n        </Button>\r\n      </div>\r\n\r\n      <div className=\"flex flex-col my-5\">\r\n        {/* <AddStudent onClose={onClose} open={AddOpen} showDrawer={showDrawer} /> */}\r\n        {/* <EditStudents\r\n          editOpen={editOpen}\r\n          showDrawerEdit={showDrawerEdit}\r\n          onCloseEdit={onCloseEdit}\r\n          EditStudent={EditStudent}\r\n          setEditStudent={setEditStudent}\r\n        /> */}\r\n        <Table\r\n          columns={[\r\n            {\r\n              title: \"ID\",\r\n              dataIndex: \"id\",\r\n              render: (id: any, student, s) => {\r\n                return (\r\n                  <span\r\n                    className=\" cursor-pointer \"\r\n                    onClick={() => {\r\n                      setEditOpen(true);\r\n                      setEditStudent(student);\r\n                    }}\r\n                  >\r\n                    {id}\r\n                  </span>\r\n                );\r\n              },\r\n            },\r\n            {\r\n              title: \"Email\",\r\n              dataIndex: \"email\",\r\n            },\r\n            {\r\n              title: \"Photo\",\r\n              dataIndex: \"image\",\r\n              render: (img, user) => {\r\n                return img ? (\r\n                  <img src={img} alt={user.name} />\r\n                ) : (\r\n                  <span>Mavjud emas</span>\r\n                );\r\n              },\r\n            },\r\n            {\r\n              title: \"Roli\",\r\n              dataIndex: \"role\",\r\n            },\r\n            {\r\n              title: \"Roli\",\r\n              dataIndex: \"role\",\r\n            },\r\n            {\r\n              title: \"Saqlangan\",\r\n              dataIndex: \"createdAt\",\r\n              render: (create) => {\r\n                const date = new Date(create);\r\n                const options: any = {\r\n                  year: \"numeric\",\r\n                  month: \"long\",\r\n                  day: \"numeric\",\r\n                  hour: \"2-digit\",\r\n                  minute: \"2-digit\",\r\n                  second: \"2-digit\",\r\n                  hour12: false,\r\n                };\r\n                return <span>{date.toLocaleString(undefined, options)}</span>;\r\n              },\r\n            },\r\n          ]}\r\n          dataSource={user.map((i: any) => ({ ...i, key: i.id }))}\r\n        />\r\n        <Button\r\n          color=\"danger\"\r\n          type=\"text\"\r\n          variant=\"text\"\r\n          onClick={() => {\r\n            console.log(\"Hozircha hammasini o'chirish ishlamaydi !!!\");\r\n          }}\r\n        >\r\n          Hammasini ochirish{\" \"}\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SrudentsPage;\r\n"],"names":[],"mappings":"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","debugId":null}}]
}
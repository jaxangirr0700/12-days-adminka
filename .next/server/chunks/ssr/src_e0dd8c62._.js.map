{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/12-days/adminka/src/app/users/edits/AddStudent.tsx"],"sourcesContent":["\"use client\"\r\nimport React from 'react'\r\n\r\nfunction AddStudent() {\r\n  return (\r\n    <div>AddStudent</div>\r\n  )\r\n}\r\n\r\nexport default AddStudent\r\n"],"names":[],"mappings":";;;;AAAA;;AAGA,SAAS;IACP,qBACE,8OAAC;kBAAI;;;;;;AAET;uCAEe","debugId":null}},
    {"offset": {"line": 29, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/12-days/adminka/src/utils/axiosData/getData.ts"],"sourcesContent":["\"use client\";\r\nimport useAuthStore from \"@/store/MyAuthState\";\r\nimport axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nexport function useFetchData<T>(apiEndPoint: string) {\r\n  const MyAuthState = useAuthStore();\r\n  const [data, setData] = useState<T | null>(null); // Yagona ob'ekt sifatida\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const res = await axios.get(`https://nt.softly.uz/api${apiEndPoint}`, {\r\n          headers: { Authorization: `Bearer ${MyAuthState.token}` },\r\n        });\r\n        setData(res.data);\r\n      } catch (e) {\r\n        console.error(e);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [apiEndPoint, MyAuthState.token]);\r\n\r\n  return { data };\r\n}\r\n"],"names":[],"mappings":";;;AACA;AACA;AACA;AAHA;;;;AAKO,SAAS,aAAgB,WAAmB;IACjD,MAAM,cAAc,CAAA,GAAA,2HAAA,CAAA,UAAY,AAAD;IAC/B,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAY,OAAO,yBAAyB;IAE3E,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,YAAY;YAChB,IAAI;gBACF,MAAM,MAAM,MAAM,qIAAA,CAAA,UAAK,CAAC,GAAG,CAAC,CAAC,wBAAwB,EAAE,aAAa,EAAE;oBACpE,SAAS;wBAAE,eAAe,CAAC,OAAO,EAAE,YAAY,KAAK,EAAE;oBAAC;gBAC1D;gBACA,QAAQ,IAAI,IAAI;YAClB,EAAE,OAAO,GAAG;gBACV,QAAQ,KAAK,CAAC;YAChB;QACF;QAEA;IACF,GAAG;QAAC;QAAa,YAAY,KAAK;KAAC;IAEnC,OAAO;QAAE;IAAK;AAChB","debugId":null}},
    {"offset": {"line": 70, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/12-days/adminka/src/app/users/page.tsx"],"sourcesContent":["\"use client\";\r\nimport AddStudent from \"@/app/users/edits/AddStudent\";\r\nimport useAuthStore from \"@/store/MyAuthState\";\r\nimport { useFetchData } from \"@/utils/axiosData/getData\";\r\nimport { Button, Table } from \"antd\";\r\nimport Image from \"next/image\";\r\nimport { useState } from \"react\";\r\n\r\nexport type UserType = {\r\n  id: number;\r\n  name: string;\r\n  email: string;\r\n  password: string;\r\n  image: string;\r\n  role: string;\r\n  createdAt: string;\r\n};\r\n\r\ntype UserDatatype = {\r\n  items: UserType[];\r\n  message: string;\r\n  page: number;\r\n  total: number;\r\n};\r\n\r\nfunction UsersPage() {\r\n  const MyAuthState = useAuthStore();\r\n  const [AddOpen, setAddOpen] = useState(false);\r\n  const [editOpen, setEditOpen] = useState(false);\r\n  const [EditStudent, setEditStudent] = useState<UserType | null>(null);\r\n  const { data: userData } = useFetchData<UserDatatype>(`/app/users`);\r\n\r\n  const showDrawer = () => {\r\n    setAddOpen(true);\r\n  };\r\n\r\n  const onClose = () => {\r\n    setAddOpen(false);\r\n  };\r\n\r\n  const user = userData?.items || [];\r\n\r\n  return (\r\n    <div className=\"flex flex-col items-center p-4\">\r\n      <div className=\"flex gap-2 items-center justify-center mb-4\">\r\n        <Button\r\n          onClick={() => console.log(`Userlarning umumiy soni ${user.length}`)}\r\n        >\r\n          Umumiy son: {user.length}\r\n        </Button>\r\n      </div>\r\n\r\n      <div className=\"flex flex-col my-5 w-full\">\r\n        <AddStudent onClose={onClose} open={AddOpen} showDrawer={showDrawer} />\r\n        <div style={{ overflowX: \"auto\" }}>\r\n          <Table\r\n            columns={[\r\n              {\r\n                title: \"ID\",\r\n                dataIndex: \"id\",\r\n                render: (id, student) => (\r\n                  <span\r\n                    className=\"cursor-pointer\"\r\n                    onClick={() => {\r\n                      setEditOpen(true);\r\n                      setEditStudent(student);\r\n                    }}\r\n                  >\r\n                    {id}\r\n                  </span>\r\n                ),\r\n              },\r\n              {\r\n                title: \"Email\",\r\n                dataIndex: \"email\",\r\n                responsive: [\"md\"],\r\n              },\r\n              {\r\n                title: \"Photo\",\r\n                dataIndex: \"image\",\r\n                render: (img: string, user: UserType) =>\r\n                  img ? (\r\n                    <Image width={40} height={40} src={img} alt={user.name} />\r\n                  ) : (\r\n                    <span>Mavjud emas</span>\r\n                  ),\r\n              },\r\n              {\r\n                title: \"Roli\",\r\n                dataIndex: \"role\",\r\n              },\r\n              {\r\n                title: \"Ismi\",\r\n                dataIndex: \"name\",\r\n              },\r\n              {\r\n                title: \"Saqlangan\",\r\n                dataIndex: \"createdAt\",\r\n                render: (create) => {\r\n                  const date = new Date(create);\r\n                  const options: any = {\r\n                    year: \"numeric\",\r\n                    month: \"long\",\r\n                    day: \"numeric\",\r\n                    hour: \"2-digit\",\r\n                    minute: \"2-digit\",\r\n                    second: \"2-digit\",\r\n                    hour12: false,\r\n                  };\r\n                  return <span>{date.toLocaleString(undefined, options)}</span>;\r\n                },\r\n              },\r\n            ]}\r\n            dataSource={user.map((i) => ({ ...i, key: i.id }))}\r\n            pagination={{ pageSize: 5 }}\r\n            scroll={{ x: true }}\r\n          />\r\n        </div>\r\n        <Button\r\n          color=\"danger\"\r\n          type=\"text\"\r\n          onClick={() =>\r\n            console.log(\"Hozircha hammasini o'chirish ishlamaydi !!!\")\r\n          }\r\n        >\r\n          Hammasini ochirish\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UsersPage;\r\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AANA;;;;;;;;AAyBA,SAAS;IACP,MAAM,cAAc,CAAA,GAAA,2HAAA,CAAA,UAAY,AAAD;IAC/B,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAmB;IAChE,MAAM,EAAE,MAAM,QAAQ,EAAE,GAAG,CAAA,GAAA,oIAAA,CAAA,eAAY,AAAD,EAAgB,CAAC,UAAU,CAAC;IAElE,MAAM,aAAa;QACjB,WAAW;IACb;IAEA,MAAM,UAAU;QACd,WAAW;IACb;IAEA,MAAM,OAAO,UAAU,SAAS,EAAE;IAElC,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,kMAAA,CAAA,SAAM;oBACL,SAAS,IAAM,QAAQ,GAAG,CAAC,CAAC,wBAAwB,EAAE,KAAK,MAAM,EAAE;;wBACpE;wBACc,KAAK,MAAM;;;;;;;;;;;;0BAI5B,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,2IAAA,CAAA,UAAU;wBAAC,SAAS;wBAAS,MAAM;wBAAS,YAAY;;;;;;kCACzD,8OAAC;wBAAI,OAAO;4BAAE,WAAW;wBAAO;kCAC9B,cAAA,8OAAC,gLAAA,CAAA,QAAK;4BACJ,SAAS;gCACP;oCACE,OAAO;oCACP,WAAW;oCACX,QAAQ,CAAC,IAAI,wBACX,8OAAC;4CACC,WAAU;4CACV,SAAS;gDACP,YAAY;gDACZ,eAAe;4CACjB;sDAEC;;;;;;gCAGP;gCACA;oCACE,OAAO;oCACP,WAAW;oCACX,YAAY;wCAAC;qCAAK;gCACpB;gCACA;oCACE,OAAO;oCACP,WAAW;oCACX,QAAQ,CAAC,KAAa,OACpB,oBACE,8OAAC,6HAAA,CAAA,UAAK;4CAAC,OAAO;4CAAI,QAAQ;4CAAI,KAAK;4CAAK,KAAK,KAAK,IAAI;;;;;mEAEtD,8OAAC;sDAAK;;;;;;gCAEZ;gCACA;oCACE,OAAO;oCACP,WAAW;gCACb;gCACA;oCACE,OAAO;oCACP,WAAW;gCACb;gCACA;oCACE,OAAO;oCACP,WAAW;oCACX,QAAQ,CAAC;wCACP,MAAM,OAAO,IAAI,KAAK;wCACtB,MAAM,UAAe;4CACnB,MAAM;4CACN,OAAO;4CACP,KAAK;4CACL,MAAM;4CACN,QAAQ;4CACR,QAAQ;4CACR,QAAQ;wCACV;wCACA,qBAAO,8OAAC;sDAAM,KAAK,cAAc,CAAC,WAAW;;;;;;oCAC/C;gCACF;6BACD;4BACD,YAAY,KAAK,GAAG,CAAC,CAAC,IAAM,CAAC;oCAAE,GAAG,CAAC;oCAAE,KAAK,EAAE,EAAE;gCAAC,CAAC;4BAChD,YAAY;gCAAE,UAAU;4BAAE;4BAC1B,QAAQ;gCAAE,GAAG;4BAAK;;;;;;;;;;;kCAGtB,8OAAC,kMAAA,CAAA,SAAM;wBACL,OAAM;wBACN,MAAK;wBACL,SAAS,IACP,QAAQ,GAAG,CAAC;kCAEf;;;;;;;;;;;;;;;;;;AAMT;uCAEe","debugId":null}}]
}